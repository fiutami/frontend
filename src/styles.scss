/* FiutaMi Global Styles */
@import './styles/tokens';
@import './styles/tokens-figma';
@import './styles/mixins';
@import './styles/shell-contract';

/* Design System Utilities */
@import './styles/utilities/index';

/* Base reset – il resto è già in _tokens.scss */
*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; }
html { scroll-behavior: smooth; }

body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: var(--font-sans, "Segoe UI", sans-serif);
  font-size: var(--fs-base, 16px);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

/* Media elements */
img, picture, video, canvas {
  display: block;
  max-width: 100%;
  height: auto;
}

/* Buttons / interactive */
button, .btn {
  background: none;
  border: 0;
  padding: 0;
  cursor: pointer;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  @include focus-ring(var(--accent));
}

/* Utility: visually hidden (a11y) */
.sr-only { @include visually-hidden; }

/* ============================================
   Drawer/Page Content Max-Width for Desktop
   ============================================ */
.drawer-content,
.page-content,
[class*="-content"] {
  @media (min-width: 1024px) {
    max-width: 960px;
    margin-inline: auto;
  }
}

/* Drawer section pages - consistent max-width */
.account-page,
.activity-page,
.notifications-page,
.saved-page,
.adopt-page,
.pet-friends-page,
.invite-page,
.lost-pets-page,
.blocked-users-page,
.subscriptions-page,
.contact-page,
.terms-page,
.privacy-page,
.pet-register-page {
  @media (min-width: 1024px) {
    max-width: 960px;
    margin-inline: auto;
    padding-inline: var(--spacing-lg, 24px);
  }
}

/* ============================================
   iPhone Safe Area Support (notch, home indicator)
   ============================================ */
:root {
  /* Safe area insets with fallbacks */
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
}

/* Apply safe area padding to main app container */
.app-container,
app-root > *:first-child {
  padding-top: var(--safe-area-inset-top);
  padding-bottom: var(--safe-area-inset-bottom);
  padding-left: var(--safe-area-inset-left);
  padding-right: var(--safe-area-inset-right);
}

/* Fixed headers should account for notch */
.app-header,
.drawer-header,
[class*="-header"] {
  padding-top: max(var(--spacing-md, 16px), var(--safe-area-inset-top));
}

/* Fixed bottom elements (tab bar, FAB) should account for home indicator */
.bottom-tab-bar,
.app-bottom-nav,
[class*="bottom-tab"],
[class*="bottom-nav"] {
  padding-bottom: max(var(--spacing-sm, 8px), var(--safe-area-inset-bottom));
}

/* Drawer pages - ensure content doesn't overlap with safe areas */
.account-page,
.activity-page,
.notifications-page,
.saved-page,
.adopt-page,
.pet-friends-page,
.invite-page,
.lost-pets-page,
.blocked-users-page,
.subscriptions-page,
.contact-page,
.terms-page,
.privacy-page,
.pet-register-page {
  /* Already handled by app container, but ensure scrollable content is safe */
  min-height: calc(100vh - var(--safe-area-inset-top) - var(--safe-area-inset-bottom));
  min-height: calc(100dvh - var(--safe-area-inset-top) - var(--safe-area-inset-bottom));
}

/* Viewport meta tag support - add to index.html: */
/* <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"> */
