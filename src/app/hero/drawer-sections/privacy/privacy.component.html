<div class="privacy-page">
  <!-- Header -->
  <header class="privacy-header">
    <button
      class="privacy-header__back"
      (click)="goBack()"
      aria-label="Torna indietro"
      type="button">
      <span class="material-icons">arrow_back</span>
    </button>
    <h1 class="privacy-header__title">{{ title }}</h1>
  </header>

  <!-- Quick Navigation -->
  <nav class="privacy-nav" aria-label="Navigazione sezioni">
    <div class="privacy-nav__scroll">
      @for (section of sections; track section.id) {
        <button
          class="privacy-nav__item"
          [class.privacy-nav__item--active]="activeSection() === section.id"
          (click)="scrollToSection(section.id)"
          type="button">
          {{ section.title.split('.')[0] }}
        </button>
      }
    </div>
  </nav>

  <!-- Content -->
  <main class="privacy-content">
    <div class="privacy-content__wrapper">
      <!-- Title Section -->
      <div class="privacy-intro">
        <span class="material-icons privacy-intro__icon">security</span>
        <h2 class="privacy-intro__title">Informativa sulla Privacy</h2>
        <p class="privacy-intro__subtitle">
          Scopri come proteggiamo e utilizziamo i tuoi dati personali
        </p>
      </div>

      <!-- Sections -->
      @for (section of sections; track section.id) {
        <section
          [id]="section.id"
          #sectionEl
          class="privacy-section">
          <h3 class="privacy-section__title">{{ section.title }}</h3>
          <p class="privacy-section__content">{{ section.content }}</p>
          @if (section.bullets && section.bullets.length > 0) {
            <ul class="privacy-section__list">
              @for (bullet of section.bullets; track bullet) {
                <li>{{ bullet }}</li>
              }
            </ul>
          }
        </section>
      }

      <!-- Last Updated -->
      <div class="privacy-footer">
        <span class="material-icons">update</span>
        <span>Ultimo aggiornamento: {{ lastUpdated }}</span>
      </div>
    </div>
  </main>

  <!-- Bottom Tab Bar -->
  <app-bottom-tab-bar [tabs]="tabs"></app-bottom-tab-bar>
</div>
