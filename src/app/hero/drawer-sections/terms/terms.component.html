<app-tab-page-shell-drawer
  [title]="pageTitle"
  [showBack]="true"
  (backClicked)="goBack()">

  <!-- Quick Navigation â€” Numbered Circles -->
  <nav class="terms-nav" aria-label="Navigazione sezioni">
    <div class="terms-nav__scroll">
      @for (section of sections; track section.id; let i = $index) {
        <button
          class="terms-nav__circle"
          [class.terms-nav__circle--active]="activeSection() === section.id"
          (click)="scrollToSection(section.id)"
          type="button"
          [attr.aria-label]="section.title">
          {{ i + 1 }}
        </button>
      }
    </div>
  </nav>

  <!-- Content -->
  <main class="terms-content">
    <div class="terms-content__wrapper">
      <!-- Title Section -->
      <div class="terms-intro">
        <span class="material-icons terms-intro__icon">gavel</span>
        <h2 class="terms-intro__title">{{ 'drawer.terms' | translate }}</h2>
        <p class="terms-intro__subtitle">
          {{ 'drawerTerms.introText' | translate }}
        </p>
      </div>

      <!-- Sections -->
      @for (section of sections; track section.id) {
        <section
          [id]="section.id"
          #sectionEl
          class="terms-section">
          <h3 class="terms-section__title">{{ section.title }}</h3>
          <p class="terms-section__content">{{ section.content }}</p>
        </section>
      }

      <!-- Last Updated -->
      <div class="terms-footer">
        <span class="material-icons">update</span>
        <span>Ultimo aggiornamento: {{ lastUpdated }}</span>
      </div>
    </div>
  </main>

</app-tab-page-shell-drawer>
