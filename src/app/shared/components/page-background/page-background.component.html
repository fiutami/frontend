<!-- PageBackground: UNICA fonte sfondi pagina -->
<div
  class="page-bg"
  [class.page-bg--tab-menu]="variant === 'tab-menu'"
  [class.page-bg--blue-solid]="variant === 'blue-solid'"
  [class.page-bg--yellow-solid]="variant === 'yellow-solid'"
  [class.page-bg--profile-pet]="variant === 'profile-pet'"
  [class.page-bg--image]="isImageVariant"
  [class.page-bg--contain]="objectFit === 'contain'"
  aria-hidden="true">

  <!-- Blue asymmetric shape for tab-menu variant -->
  @if (variant === 'tab-menu') {
    <div class="page-bg__blue-shape"></div>
  }

  <!-- Image variant -->
  @if (isImageVariant) {
    <picture>
      <!-- AVIF: Best compression -->
      <source
        [srcset]="imagePath + '-480w.avif 480w, ' +
                  imagePath + '-768w.avif 768w, ' +
                  imagePath + '-1280w.avif 1280w, ' +
                  imagePath + '.avif 1920w'"
        sizes="100vw"
        type="image/avif">
      <!-- WebP: Wide support -->
      <source
        [srcset]="imagePath + '-480w.webp 480w, ' +
                  imagePath + '-768w.webp 768w, ' +
                  imagePath + '-1280w.webp 1280w, ' +
                  imagePath + '.webp 1920w'"
        sizes="100vw"
        type="image/webp">
      <!-- PNG: Fallback -->
      <img
        [src]="imagePath + '.png'"
        alt=""
        class="page-bg__image"
        role="presentation"
        loading="eager"
        fetchpriority="high"
        decoding="async" />
    </picture>
    <div
      class="page-bg__overlay"
      [class.page-bg__overlay--none]="overlayOpacity === 'none'"
      [class.page-bg__overlay--light]="overlayOpacity === 'light'"
      [class.page-bg__overlay--medium]="overlayOpacity === 'medium'"
      [class.page-bg__overlay--dark]="overlayOpacity === 'dark'">
    </div>
  }
</div>
