<div class="profile-prototype">
  <!-- Header -->
  <header class="profile-prototype__header">
    <app-back-button
      variant="solid"
      (clicked)="onBack()">
    </app-back-button>

    <!-- Prototype Badge -->
    <div class="profile-prototype__badge">
      <span class="profile-prototype__badge-icon">ğŸ”®</span>
      <span class="profile-prototype__badge-text">Profilo Prototipo</span>
    </div>
  </header>

  @if (profile()) {
    <!-- Main Content -->
    <main class="profile-prototype__content">
      <!-- Hero Section -->
      <section class="profile-prototype__hero">
        <div class="profile-prototype__hero-icon">
          {{ profile()!.icon }}
        </div>
        <h1 class="profile-prototype__hero-name">{{ profile()!.speciesName }}</h1>
        <p class="profile-prototype__hero-breed">
          {{ profile()!.suggestedBreed }} - {{ profile()!.compatibility }}% compatibile
        </p>
      </section>

      <!-- Info Section (UNLOCKED) -->
      <section class="profile-prototype__section profile-prototype__section--unlocked">
        <h2 class="profile-prototype__section-title">
          <span class="profile-prototype__section-icon">ğŸ“‹</span>
          Informazioni
        </h2>
        <div class="profile-prototype__info-card">
          <p class="profile-prototype__info-text">
            {{ profile()!.description }}
          </p>
          <button
            type="button"
            class="profile-prototype__info-link"
            (click)="onDiscoverBreed()">
            Scopri di piu sulla razza â†’
          </button>
        </div>
      </section>

      <!-- Gallery Section (LOCKED) - Uses Banda Pelosa CTA -->
      <section class="profile-prototype__section profile-prototype__section--locked">
        <h2 class="profile-prototype__section-title">Galleria - Banda Pelosa</h2>
        <div class="profile-prototype__locked-overlay">
          <div class="profile-prototype__cta-preview">
            <app-profile-icon
              icon="foto"
              variant="cta"
              ariaLabel="Banda Pelosa - Gallery bloccata"
              [disabled]="true">
            </app-profile-icon>
          </div>
          <div class="profile-prototype__locked-content">
            <span class="profile-prototype__lock-icon">ğŸ”’</span>
            <p class="profile-prototype__lock-text">Registra il tuo pet per sbloccare la galleria</p>
            <button
              type="button"
              class="profile-prototype__unlock-btn"
              (click)="onRegisterPet()">
              Registra ora
            </button>
          </div>
        </div>
      </section>

      <!-- Friends Section (LOCKED) - Uses Rullino Feroce CTA -->
      <section class="profile-prototype__section profile-prototype__section--locked">
        <h2 class="profile-prototype__section-title">Amici - Rullino Feroce</h2>
        <div class="profile-prototype__locked-overlay">
          <div class="profile-prototype__cta-preview">
            <app-profile-icon
              icon="friends"
              variant="cta"
              ariaLabel="Rullino Feroce - Amici bloccato"
              [disabled]="true">
            </app-profile-icon>
          </div>
          <div class="profile-prototype__locked-content">
            <span class="profile-prototype__lock-icon">ğŸ”’</span>
            <p class="profile-prototype__lock-text">Registra il tuo pet per trovare amici</p>
            <button
              type="button"
              class="profile-prototype__unlock-btn"
              (click)="onRegisterPet()">
              Registra ora
            </button>
          </div>
        </div>
      </section>

      <!-- Facts Section (LOCKED) - Uses Fatti Bestiali CTA -->
      <section class="profile-prototype__section profile-prototype__section--locked">
        <h2 class="profile-prototype__section-title">Info - Fatti Bestiali</h2>
        <div class="profile-prototype__locked-overlay">
          <div class="profile-prototype__cta-preview">
            <app-profile-icon
              icon="doc"
              variant="cta"
              ariaLabel="Fatti Bestiali - Info bloccato"
              [disabled]="true">
            </app-profile-icon>
          </div>
          <div class="profile-prototype__locked-content">
            <span class="profile-prototype__lock-icon">ğŸ”’</span>
            <p class="profile-prototype__lock-text">Registra il tuo pet per accedere ai fatti</p>
            <button
              type="button"
              class="profile-prototype__unlock-btn"
              (click)="onRegisterPet()">
              Registra ora
            </button>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="profile-prototype__footer">
      <button
        type="button"
        class="profile-prototype__cta-btn"
        (click)="onRegisterPet()">
        ğŸ¾ Ho adottato! Registra il mio pet
      </button>
      <a
        class="profile-prototype__footer-link"
        (click)="onRetakeQuiz()">
        Rifai il quiz
      </a>
    </footer>
  } @else {
    <!-- Loading -->
    <div class="profile-prototype__loading">
      <div class="profile-prototype__spinner"></div>
      <p>Caricamento profilo...</p>
    </div>
  }
</div>
